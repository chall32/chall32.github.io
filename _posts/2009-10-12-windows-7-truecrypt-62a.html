---
layout: post
title: Windows 7 & TrueCrypt 6.2a
date: '2009-10-12T23:54:00.003+01:00'
tags:
- Free
- TrueCrypt
- Encryption
- Windows 7
modified_time: '2009-10-13T00:03:15.249+01:00'
thumbnail: http://1.bp.blogspot.com/_2xKZgKYJlJs/StOYdc_uSNI/AAAAAAAAAM4/S_YEX37ot6Q/s72-c/Win7%2BTrueCrypt.png
blogger_id: tag:blogger.com,1999:blog-1308168280960455064.post-9183760146314379200
blogger_orig_url: http://chall32.blogspot.com/2009/10/windows-7-truecrypt-62a.html
---

<div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/_2xKZgKYJlJs/StOYdc_uSNI/AAAAAAAAAM4/S_YEX37ot6Q/s1600-h/Win7%2BTrueCrypt.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img $r="true" border="0" src="http://1.bp.blogspot.com/_2xKZgKYJlJs/StOYdc_uSNI/AAAAAAAAAM4/S_YEX37ot6Q/s200/Win7%2BTrueCrypt.png" title="Windows 7 and TrueCrypt 6.2a - easy bed fellows once you know how" /></a></div>I like <a href="http://www.microsoft.com/windows/windows-7/" target="_blank">Windows 7</a>.&nbsp; I also like <a href="http://www.truecrypt.org/" target="_blank">TruCrypt</a> full disk encryption on my personal laptop. It may potentially be the last line of defence should my personal laptop fall in the the wrong hands.  However getting Windows 7 and TrueCrypt to play together is a bit of a pain.<br /><br />Unknown to almost all users, the Windows 7 installation routine creates a small 100Mb 'hidden' primary partition alongside it's traditional "C:\" partition.&nbsp; The 100Mb partition holds the Windows Recovery Environment (WinRE), system files and bootable files that are essential to boot and repair Windows 7 in the event of a need to recover the OS.<br /><br />What's interesting is that once the partition has been unknowingly created, it is almost impossible to remove it.&nbsp; Long-story-short this is because the 100MB partition does not use the standard sector zoning format.<br /><br />Of course, TrueCrypt 6.2a does not understand this and simply refuses to install.<br /><br /><i>Why not just use <a href="http://en.wikipedia.org/wiki/BitLocker_Drive_Encryption" target="_blank">Windows 7 BitLocker</a>?</i>&nbsp; I hear you say...<br />Simple.&nbsp; My laptop does not have a TPM chip which means I would have to use a USB key to boot my laptop.&nbsp; So every time I switch on my laptop I have to find and plug in a USB key?!!!&nbsp; What a pain in the ar$£!&nbsp; What's wrong with an fashioned boot prompt and a complex password?!?&nbsp; <br /><br />Anyway, luckily enough there is a simple way to stop the creation of the 100Mb partition all together, thus allowing TrueCrypt to install and run without issue.&nbsp; Unfortunately you need to backup your data and start a fresh Windows 7 install: <br /><ul><li>Boot from&nbsp; Windows 7 installation DVD<br /></li><li>Once setup loads, press Shift and F10 at the first setup screen (language, keyboard and locale selection).&nbsp; This will open a Command Prompt window. </li><li>Enter  <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">diskpart</span>&nbsp;</li><li>Enter the following commands one by one.&nbsp; (comments in brackets)</li><li><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">list disk </span>(to show the ID number of the hard disk to partition, normally Disk 0)</li><li><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">select disk 0</span> (change 0 to another number if applicable)</li><li><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">clean </span>(delete any existing disk partitioning and data)<br /></li><li><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">create partition primary size=80000 </span>(create a partition with 80 GB space.&nbsp; To use entire disk as one partition, omit the “size=value” parameter)</li><li style="font-family: &quot;Courier New&quot;,Courier,monospace;">select partition 1</li><li style="font-family: &quot;Courier New&quot;,Courier,monospace;">active</li><li style="font-family: &quot;Courier New&quot;,Courier,monospace;">format fs=ntfs quick</li><li style="font-family: &quot;Courier New&quot;,Courier,monospace;">exit</li><li>Type <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">exit</span> at command prompt to close Command Prompt window.</li><li>Continue Windows 7 installation as usual.&nbsp;</li><li>At the disk partitioning dialogue, highlight and select the newly created partition</li><li>Once the install completes, run Computer Management: <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">compmgmt.msc&nbsp;</span></li><li>Double check that your disk partitioning is as expected (i.e. no hidden disk partitions)<br /></li></ul>Then it's just a case of installing TrueCrypt as usual.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/_2xKZgKYJlJs/StOs63PgO8I/AAAAAAAAANA/dU38WpY_jlg/s1600-h/installed.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/_2xKZgKYJlJs/StOs63PgO8I/AAAAAAAAANA/dU38WpY_jlg/s320/installed.png" /></a><br /></div><div class="separator" style="clear: both; text-align: center;">&nbsp;<span style="font-size: x-small;">TrueCrypt 6.2a installed and running on Windows 7<br /></span><br /></div>If you are not sure how to or just curious how TrueCrypt is configured to do full disk encryption, then check out this excellent <a href="http://www.informit.com/articles/article.aspx?p=1276279" target="_blank">InformIT article</a>.<br /><br />- Chris<div class="blogger-post-footer"><p>

