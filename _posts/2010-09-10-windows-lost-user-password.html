---
comments: true
layout: post
title: ! 'Windows: Lost User & Password?'
date: '2010-09-10T12:20:00.002+01:00'
tags:
- XP
- Security
- Ubuntu
- Windows 7
modified_time: '2010-12-14T22:10:10.287Z'
thumbnail: http://1.bp.blogspot.com/_2xKZgKYJlJs/TIoVHWsf0hI/AAAAAAAAAsU/EmrBKV_yYDM/s72-c/Wrong.PNG
blogger_id: tag:blogger.com,1999:blog-1308168280960455064.post-626415499569440073
blogger_orig_url: http://chall32.blogspot.com/2010/09/windows-lost-user-password.html
---

<div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/_2xKZgKYJlJs/TIoVHWsf0hI/AAAAAAAAAsU/EmrBKV_yYDM/s1600/Wrong.PNG" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/_2xKZgKYJlJs/TIoVHWsf0hI/AAAAAAAAAsU/EmrBKV_yYDM/s320/Wrong.PNG" /></a></div><br />Windows users: Lost both Administrator user account name and password?&nbsp; Perhaps you need access without changing any existing administrative accounts?&nbsp; KON-Boot not doing it for you?<br /><b><br /><i>&nbsp;*** NOTE***&nbsp; This post relates to bypassing Windows Operating System security.&nbsp; <br />The method discussed here is for HOME USE ONLY!&nbsp; It is NOT be used on systems that do not belong to you.&nbsp; Any problems arising from following this method are YOUR responsibility.</i></b><br /><br />The beauty of this method is that it uses built in commands run from within the O/S you are gaining access to.&nbsp; This means that the likelihood of corrupt security databases / registries / etc are diminished to practically zero (there is always a chance of corruption: nothing is without risk!).<br /><br />A similar exercise to this used to exist back in the NT4 days, but instead of targeting sticky keys executable, you targeted the NT4 default screeensaver.<br /><br /><b>This method works any version of Windows that ships with the Sticky Keys application.&nbsp; So that's Windows 95 and up.</b><br /><span style="font-size: large;"><b><br />How To (Short Version)</b></span><br />If you know what your doing and don't need a step by step, here's what to do in a nutshell:<br /><br /><ol><li>Boot from an alternative O/S and replace sethc.exe with cmd.exe</li><li>Reboot target O/S and lauch stickykeys (press shift five times) to launch sethc.exe/cmd.exe</li><li>Either:</li></ol><ul><li>Use <span style="background-color: #eeeeee; font-family: &quot;Courier New&quot;,Courier,monospace;">net localgroup Administrators</span> to list existing local administrators and then <span style="background-color: #eeeeee; font-family: &quot;Courier New&quot;,Courier,monospace;">net user USERNAME NEWPASSWORD</span>&nbsp; to change the password of an existing administrative account</li></ul>Or <br /><ul><li>Create new administrative account using: <span style="background-color: #eeeeee; font-family: &quot;Courier New&quot;,Courier,monospace;">net user /add NEWUSER NEWPASSWORD</span> and <span style="background-color: #eeeeee; font-family: &quot;Courier New&quot;,Courier,monospace;">net localgroup Administrators /add NEWUSER</span> to add new-user to the local administrators group</li></ul>4. Close cmd prompt and login.<br /><br /><br /><span style="font-size: large;"><b>How To (Long Version with Screen Shots) </b></span><br />For the example process shown here, I'm going to access a Windows 7 installation.&nbsp; For my alternative operating system, I'm going to use <a href="http://www.ubuntu.com/desktop" target="_blank">Ubuntu Desktop 10.04</a>.<br /><br />OK&nbsp; Here's how.<br /><ol><li>Grab yourself a copy of Ubuntu, Windows PE or Knoppix Doesn't matter which.&nbsp; The object here is to have an alternative method of booting the target system and gaining access to the drive containing the target Windows operating system.</li><li>Create the alternative O/S boot CD/DVD or USB (for creation of an bootable Ubuntu USB, see my Unetbootin post <a desktop="" href="http://chall32.blogspot.com/2010/04/unetbootin-strikes-again-ubuntu-1004.html" http:="" target="_blank" www.ubuntu.com="">here</a>)</li><li>Boot the alternative O/S.&nbsp;&nbsp; </li><li>Open Places Menu.&nbsp; Select Local Disk: </li><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/_2xKZgKYJlJs/TIn_FDE7u8I/AAAAAAAAAqE/ofgQz4xyRAA/s1600/ubudrive.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="200" src="http://3.bp.blogspot.com/_2xKZgKYJlJs/TIn_FDE7u8I/AAAAAAAAAqE/ofgQz4xyRAA/s200/ubudrive.PNG" width="131" /></a></div><li>Navigate to Windows\System32:</li><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/_2xKZgKYJlJs/TIn_566Ci7I/AAAAAAAAAqM/6jNwsbZ5D0Q/s1600/sys32.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="165" src="http://1.bp.blogspot.com/_2xKZgKYJlJs/TIn_566Ci7I/AAAAAAAAAqM/6jNwsbZ5D0Q/s200/sys32.PNG" width="200" /></a></div><li>Find the file sethc.exe, right click and rename to sethc.old:</li><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/_2xKZgKYJlJs/TIoAnUhryWI/AAAAAAAAAqU/hvHkzFuWc30/s1600/rename.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="200" src="http://1.bp.blogspot.com/_2xKZgKYJlJs/TIoAnUhryWI/AAAAAAAAAqU/hvHkzFuWc30/s200/rename.png" width="173" /></a></div><li>Find the file cmd.exe, right click and select Copy:</li><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/_2xKZgKYJlJs/TIoBYyhGAbI/AAAAAAAAAqc/nV56KIp0gMM/s1600/copycmd.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="200" src="http://2.bp.blogspot.com/_2xKZgKYJlJs/TIoBYyhGAbI/AAAAAAAAAqc/nV56KIp0gMM/s200/copycmd.PNG" width="151" /></a></div><li>Right Click again and select Paste:</li><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/_2xKZgKYJlJs/TIoDhG_TS3I/AAAAAAAAAq0/PlL_Ye2R-Ao/s1600/paste.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="200" src="http://4.bp.blogspot.com/_2xKZgKYJlJs/TIoDhG_TS3I/AAAAAAAAAq0/PlL_Ye2R-Ao/s200/paste.PNG" width="163" /></a></div><li>Find the file called <b>cmd (copy).exe</b> and rename this file to sethc.exe:</li><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/_2xKZgKYJlJs/TIoCiBklCVI/AAAAAAAAAqk/VAQ3K3alS80/s1600/reneamesethc.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="61" src="http://2.bp.blogspot.com/_2xKZgKYJlJs/TIoCiBklCVI/AAAAAAAAAqk/VAQ3K3alS80/s200/reneamesethc.PNG" width="200" /></a></div><li>Shutdown, remove Ubuntu CD/USB and reboot back into Windows</li><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/_2xKZgKYJlJs/TIoC99HjeuI/AAAAAAAAAqs/DAuCP5beJs0/s1600/restart.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/_2xKZgKYJlJs/TIoC99HjeuI/AAAAAAAAAqs/DAuCP5beJs0/s320/restart.PNG" /></a></div><li>At Windows logon prompt press shift key five times to launch stickykeys application sethc.exe (which we have replaced with cmd.exe):</li><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/_2xKZgKYJlJs/TIoFPIXlAfI/AAAAAAAAAq8/tot_KqsftX0/s1600/stickycmd.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="105" src="http://2.bp.blogspot.com/_2xKZgKYJlJs/TIoFPIXlAfI/AAAAAAAAAq8/tot_KqsftX0/s200/stickycmd.PNG" width="200" /></a></div><li>Once command prompt opens (dont worry about any message text error messages), create new administrative account using: <span style="background-color: #eeeeee; font-family: &quot;Courier New&quot;,Courier,monospace;">net user /add NEWUSER NEWPASSWORD</span></li><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/_2xKZgKYJlJs/TIoGfdW8acI/AAAAAAAAArE/A8XquBqX8Ec/s1600/newuser.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="104" src="http://2.bp.blogspot.com/_2xKZgKYJlJs/TIoGfdW8acI/AAAAAAAAArE/A8XquBqX8Ec/s200/newuser.PNG" width="200" /></a></div><li>Enter <span style="background-color: #eeeeee; font-family: &quot;Courier New&quot;,Courier,monospace;">net localgroup Administrators /add NEWUSER</span> to add new-user to the local administrators group:</li><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/_2xKZgKYJlJs/TIoHe04zg0I/AAAAAAAAArM/n2_I1laDRrs/s1600/addfred.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="105" src="http://3.bp.blogspot.com/_2xKZgKYJlJs/TIoHe04zg0I/AAAAAAAAArM/n2_I1laDRrs/s200/addfred.PNG" width="200" /></a></div><li>If needs be, (to get the new user to appear on the login screen) restart windows:</li><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/_2xKZgKYJlJs/TIoIuFjpd3I/AAAAAAAAArU/T3EwhkS61Rc/s1600/restartnow.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/_2xKZgKYJlJs/TIoIuFjpd3I/AAAAAAAAArU/T3EwhkS61Rc/s320/restartnow.PNG" /></a></div><li>Login as the new user:</li><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/_2xKZgKYJlJs/TIoJTP7N0TI/AAAAAAAAArc/o6yI0IS1LiI/s1600/fredlogin.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="176" src="http://2.bp.blogspot.com/_2xKZgKYJlJs/TIoJTP7N0TI/AAAAAAAAArc/o6yI0IS1LiI/s200/fredlogin.PNG" width="200" /></a></div><li>CLEAN UP.&nbsp; Open C:\Windows\System32 and find sethc.exe:</li><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/_2xKZgKYJlJs/TIoLLv53RfI/AAAAAAAAArk/55wMLxR1RCA/s1600/cleansethc.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="49" src="http://2.bp.blogspot.com/_2xKZgKYJlJs/TIoLLv53RfI/AAAAAAAAArk/55wMLxR1RCA/s200/cleansethc.PNG" width="200" /></a></div><li>Delete sethc.exe:</li><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/_2xKZgKYJlJs/TIoLtgVgtoI/AAAAAAAAArs/pKWzhJziz-g/s1600/cleansethc2.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="101" src="http://3.bp.blogspot.com/_2xKZgKYJlJs/TIoLtgVgtoI/AAAAAAAAArs/pKWzhJziz-g/s200/cleansethc2.PNG" width="200" /></a></div><li>&nbsp;Find sethc.old, right click and select Copy.&nbsp; Right click again and Select Paste:</li><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/_2xKZgKYJlJs/TIoNFYiQrvI/AAAAAAAAAr0/XzaBZ0KQ-Jw/s1600/oldcopy.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="159" src="http://2.bp.blogspot.com/_2xKZgKYJlJs/TIoNFYiQrvI/AAAAAAAAAr0/XzaBZ0KQ-Jw/s200/oldcopy.PNG" width="200" /></a><a href="http://3.bp.blogspot.com/_2xKZgKYJlJs/TIoNOSM5ruI/AAAAAAAAAr8/xpLwgSx-Nig/s1600/pasteold.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="200" src="http://3.bp.blogspot.com/_2xKZgKYJlJs/TIoNOSM5ruI/AAAAAAAAAr8/xpLwgSx-Nig/s200/pasteold.PNG" width="159" /></a></div><li>&nbsp;Rename the file sethc - Copy.old to sethc.exe:</li><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/_2xKZgKYJlJs/TIoN5I8QUiI/AAAAAAAAAsE/FX98g0gKgP8/s1600/finalrename.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/_2xKZgKYJlJs/TIoN5I8QUiI/AAAAAAAAAsE/FX98g0gKgP8/s320/finalrename.PNG" /></a></div><li>Press shift five times to ensure that sticky keys launches OK:</li><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/_2xKZgKYJlJs/TIoOcsH8nmI/AAAAAAAAAsM/DOAyP-Zq_Nw/s1600/stickyok.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/_2xKZgKYJlJs/TIoOcsH8nmI/AAAAAAAAAsM/DOAyP-Zq_Nw/s320/stickyok.PNG" /></a></div></ol>All done. Are we amazed that this kind of simple file rename hack still exists? Quite frankly yes... a bit.  Ah well.<br /><br />- Chris<div class="blogger-post-footer"><p>

