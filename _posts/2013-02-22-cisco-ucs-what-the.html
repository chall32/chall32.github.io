---
layout: post
title: ! 'Cisco UCS: What The?'
date: '2013-02-22T12:50:00.000Z'
tags:
- Cisco
- Remote Support
modified_time: '2013-02-23T01:38:01.581Z'
thumbnail: https://lh3.ggpht.com/-OYVUTcTAuWU/USdUtEvIJUI/AAAAAAAABUo/O0dYAiOoWxk/s72-c/ucs.png
blogger_id: tag:blogger.com,1999:blog-1308168280960455064.post-7071541634596950519
blogger_orig_url: http://chall32.blogspot.com/2013/02/cisco-ucs-what-the.html
---

<div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-OYVUTcTAuWU/USdUtEvIJUI/AAAAAAAABUo/O0dYAiOoWxk/s1600/ucs.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="200" src="https://lh3.ggpht.com/-OYVUTcTAuWU/USdUtEvIJUI/AAAAAAAABUo/O0dYAiOoWxk/s1600/ucs.png" width="200" /></a></div>A quick non-too-technical post detailing the Cisco Unified Computing System (UCS) and how it works.&nbsp; No, I'm not affiliated with Cisco, I just work on UCS a lot!&nbsp; <br /><h3>What is a UCS?</h3>Ok, well that's simple.&nbsp; It's a blade server system comprising of the following components:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-hUcWpjUR1Sg/USdVeMRsUPI/AAAAAAAABUw/ViWXxJrntis/s1600/cisco-ucs-components-overview.gif" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="640" src="https://lh3.ggpht.com/-hUcWpjUR1Sg/USdVeMRsUPI/AAAAAAAABUw/ViWXxJrntis/s1600/cisco-ucs-components-overview.gif" width="550" /></a></div><br />The power of the UCS is that it uses service profiles.<br /><h3>What is a Service Profile?</h3>OK,well that's simple enough too.&nbsp; A service profile tells the UCS that a particular blade has a particular configuration.&nbsp; Here is an example service profile:<br /><br /><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-Mzo-pgegJOs/USdXqx7b2dI/AAAAAAAABU4/h01_yIEuDKg/s1600/Service+Profile.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://lh3.ggpht.com/-Mzo-pgegJOs/USdXqx7b2dI/AAAAAAAABU4/h01_yIEuDKg/s1600/Service+Profile.JPG" /></a></div>As you can see, in my service profile above I have a server with two fibre cards (vHBAs) and two network cards (vNICs).<br /><br />The USP (Unique Selling Point) of the UCS is that these service profiles are <u><span style="color: red;"><span style="background-color: white;"><b>MOBILE</b></span></span></u><br />Yes, the service profiles can be moved from blade to blade.<br /><br />Think about it.&nbsp; MYSERVER1 uses UCS chassis 1, blade 1.&nbsp; UCS chassis 1, blade 1 suffers a hardware issue and dies a death.<br /><br />No problem.&nbsp; I can move and apply the service profile for MYSERVER1 to another physical blade (say UCS chassis 3, blade 2), boot it up and away we go, we are back in business - service resumed no screaming users.&nbsp; I can then get the faulty blade's hardware fixed in slow time.<br /><h3>How is This Possible?</h3>If you look again at my service profile screen shot above again, you will see that the NICs and HBA's are all prefixed with ' v '.<br /><br />This means that they are virtual.<br /><h3>Virtual Hardware (have you lost it Chris)?</h3>Not quite.&nbsp; Bear with me.<br /><br />Each UCS blade is fitted with a Virtual Interface card.&nbsp; One of these:<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-BfXsKnVcDbA/USdcuxQObuI/AAAAAAAABVA/vT8ixPA6VjY/s1600/M81KR.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="240" src="https://lh3.ggpht.com/-BfXsKnVcDbA/USdcuxQObuI/AAAAAAAABVA/vT8ixPA6VjY/s1600/M81KR.jpg" width="320" /></a></div>The power of this card is that it can be configured through software to present physical hardware to the blade.&nbsp; In my case,  two fibre cards (vHBAs) and two network cards (vNICs). Clever a?<br /><h3>Mobile Ports </h3>So looking deeper into the service profile for MYSERVER1, you will see that the Service Profile also includes the physical addressing of the vHBAs, their WWPNs (<a href="https://en.wikipedia.org/wiki/World_Wide_Port_Name" target="_blank">World Wide Port Names</a>) and vNICs, their MAC Addresses (<a href="https://en.wikipedia.org/wiki/MAC_address" target="_blank">Media Access Control Addresses</a>):<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-1ZDnYHpzozY/USdhaC--ddI/AAAAAAAABVI/tQ5wyZh7QIg/s1600/vHBAs.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://lh3.ggpht.com/-1ZDnYHpzozY/USdhaC--ddI/AAAAAAAABVI/tQ5wyZh7QIg/s1600/vHBAs.jpg" /></a></div><div class="separator" style="clear: both; text-align: center;">&nbsp;<a href="http://1.bp.blogspot.com/-6ItbEdmqoi8/USdhaInYCNI/AAAAAAAABVM/bJfusFd64MM/s1600/vNICs.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://lh3.ggpht.com/-6ItbEdmqoi8/USdhaInYCNI/AAAAAAAABVM/bJfusFd64MM/s1600/vNICs.jpg" /></a></div><br />Also included in the Service Profile is MYSERVER1's UUID (<a href="https://en.wikipedia.org/wiki/UUID" target="_blank">Universally Unique Identifier</a>):<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-CKzSSEPN4eQ/USdhbau3nUI/AAAAAAAABVY/-wBNVKdq2Ks/s1600/UUID.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://lh3.ggpht.com/-CKzSSEPN4eQ/USdhbau3nUI/AAAAAAAABVY/-wBNVKdq2Ks/s1600/UUID.jpg" /></a></div><br /><h3>Tying it All Together</h3>So to recap, the WWPNs, MACs and UUID of MYSERVER1 are all held in a software (aka service) profile that is used to configure the hardware.<br /><br />So assuming all my blades have the correct amounts of CPU and memory, I can then apply that service profile to any physical blade I like.<br /><br />Nice!<br /><br />From the comfort of my armchair in Cassa-Del-Chris, I have fixed a hardware issue and I have saved the day.<br /><h3>Boot Note</h3>What about the local disks installed in MYSERVER1? Looking at this picture of a Cisco UCS blade it has local disks installed:<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-Ze8Ei0-5d-M/USdlYi2CQSI/AAAAAAAABVg/R0s_4kpMz74/s1600/cisco_ucs_b200m3_blade_server_standard_large.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="160" src="https://lh3.ggpht.com/-Ze8Ei0-5d-M/USdlYi2CQSI/AAAAAAAABVg/R0s_4kpMz74/s1600/cisco_ucs_b200m3_blade_server_standard_large.jpg" width="320" /></a></div>Yes, it does.<br /><br />If you move your service profile to another blade, don't you have to also physically move the local disks too?<br /><br />Yes you do. And that means a trip to the datacentre just to move two disks, and an extended outage as far as the users are concerned. NOT GOOD!!!<br /><br />Back to MYSERVER1 and the simple answer is that I'm not using the local disks. I have no local disks installed in any of my blades.<br /><br />MYSERVER1 boots via it's vHBA cards direct from the SAN (<a href="https://en.wikipedia.org/wiki/Storage_area_network" target="_blank">Storage Area Network</a>). Therefore to recover service to the users, I don't need to visit the data centre to swap any physical hardware.<br /><br />No need to move from my armchair in Cassa-Del-Chris.&nbsp; Another Beer anyone?<br /><br />- Chris<div class="blogger-post-footer"><p>

